"use strict";var tablet=$(window).width()<1240,mobile=$(window).width()<768,bindModalListeners=function(e){e.forEach(function(e){var t=$(e.trigger),o=$(e.modal);t.on("click",function(){stopScroll("body"),o.addClass("active")}),o.on("click",function(e){$(e.target).hasClass("modal")&&($(this).removeClass("active"),freeScroll())}),o.find("[data-close]").on("click",function(){o.removeClass("active"),freeScroll()}),$(document).keydown(function(e){return 27===e.keyCode?($(".modal").removeClass("active"),freeScroll(),!1):void 0})})},stopScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=parseInt(document.documentElement.clientWidth),o=parseInt(window.innerWidth),n=o-t;$(e).attr("style","overflow: hidden; padding-right: "+n+"px")},freeScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";$(e).attr("style","")},list=function(e,t){var o=$(t.currentTarget),n=$(t.currentTarget).closest("div");if(n.hasClass("open")){var c=o.find("[class*=value]").text();n.removeClass("open"),o.closest(n).attr("style",""),o.siblings("button").removeClass("active"),o.addClass("active"),o.siblings("input[type=hidden]").val(c)}else{var r=0;$(e).removeClass("open").attr("style",""),n.addClass("open"),o.closest(n).find("button").each(function(e,t){r+=$(t).outerHeight(!0)}),o.closest(n).css("height",r)}},switchActive=function(e,t){e.hasClass("active")||($(t).removeClass("active"),e.addClass("active"))},counters={},timer=function(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!1;t=$(t).find(".timer");var c=140,r=!1;o&&clearInterval(counters["counter".concat(e)]),$(e).on("mouseenter mouseleave",function(e){r="mouseenter"===e.type?!0:!1}),counters["counter".concat(e)]=setInterval(function(){r||(t.attr("stroke-dashoffset",c),c--,0===c&&$(e).trigger("next.owl.carousel"))},40),n&&n.item.index===n.item.count-1&&(t.attr("stroke-dashoffset",140),clearInterval(counters["counter".concat(e)]),r=!0)},createYouTubeEmbedLink=function(e,t){$(e).each(function(e,o){var n=$(o).attr("data-src"),c="https://www.youtube.com/embed/",r="?rel=0&showinfo=0&autoplay=1",a=c+n.slice(n.indexOf("=")+1,n.length)+r;$(o).on("click",function(){$(this).parent(t).empty().append('<iframe class="about__frame" src="'.concat(a,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}),$(o).siblings("img").attr("src","http://img.youtube.com/vi/"+a.slice(a.indexOf("embed")+6,a.indexOf("?"))+"/0.jpg")})},scrollToAnchor=function(e){e.preventDefault();var t=$(e.currentTarget).attr("href");$("html,body").animate({scrollTop:$(t).offset().top},"slow")},parallaxEffect=function(e){e.forEach(function(e){var t,o,n=parseInt(getComputedStyle(e).top);window.addEventListener("scroll",function(){o=e.getBoundingClientRect().top,o>=0&&(t=e.getBoundingClientRect().top+document.body.scrollTop,e.style.top=n+.3*t+"px")})})},popup=function(e,t,o){$(t).hasClass("active")&&!$(e.target).closest(t).length&&$(t).removeClass("active"),$(e.target).closest(o).length&&!$(t).hasClass("active")&&$(t).addClass("active")};$().ready(function(){bindModalListeners([{trigger:".header__basket",modal:".modal--cart"}]),tablet||parallaxEffect(document.querySelectorAll(".circle")),$("a[href^='#'").on("click",function(e){scrollToAnchor(e)}),$(".result").on("click",".result__item",function(e){list(".result__box",e)}),$("body").on("click",".order__item",function(e){list(".order__box",e)}),$(".cart__city").on("click",function(e){list(".cart__box",e)}),$(".calc__checkbox").on("click",function(e){switchActive($(e.currentTarget),$(e.target).closest("div").find("button"))}),$(".header__burger").on("click",function(e){$(e.currentTarget).toggleClass("active"),$(".header__nav").toggleClass("active"),$(e.currentTarget).hasClass("active")?stopScroll():freeScroll()}),$("body").on("click",function(e){popup(e,".dpicker",".result__choose")})});