"use strict";var mobile=$(window).width()<1240,bindModalListeners=function(e){e.forEach(function(e){var t=$(e.trigger),o=$(e.modal);t.on("click",function(){stopScroll("body"),o.addClass("active")}),o.on("click",function(e){$(e.target).hasClass("modal")&&($(this).removeClass("active"),freeScroll())}),o.find("[data-close]").on("click",function(){o.removeClass("active"),freeScroll()}),$(document).keydown(function(e){return 27===e.keyCode?($(".modal").removeClass("active"),freeScroll(),!1):void 0})})},stopScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=parseInt(document.documentElement.clientWidth),o=parseInt(window.innerWidth),c=o-t;$(e).attr("style","overflow: hidden; padding-right: "+c+"px")},freeScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";$(e).attr("style","")},list=function(e,t){var o=$(t.currentTarget),c=$(t.currentTarget).closest("div");if(c.hasClass("open")){var n=o.find("[class*=value]").text();c.removeClass("open"),o.closest(c).attr("style",""),o.siblings("button").removeClass("active"),o.addClass("active"),o.siblings("input[type=hidden]").val(n)}else{var a=0;$(e).removeClass("open").attr("style",""),c.addClass("open"),o.closest(c).find("button").each(function(e,t){a+=$(t).outerHeight(!0)}),o.closest(c).css("height",a)}},switchActive=function(e){$(e.currentTarget).hasClass("active")||($(e.currentTarget).siblings().removeClass("active"),$(e.currentTarget).addClass("active"))},createYouTubeEmbedLink=function(e,t){$(e).each(function(e,o){var c=$(o).attr("data-src"),n="https://www.youtube.com/embed/",a="?rel=0&showinfo=0&autoplay=1",r=n+c.slice(c.indexOf("=")+1,c.length)+a;$(o).on("click",function(){$(this).parent(t).empty().append('<iframe class="about__frame" src="'.concat(r,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}),$(o).siblings("img").attr("src","http://img.youtube.com/vi/"+r.slice(r.indexOf("embed")+6,r.indexOf("?"))+"/0.jpg")})},scrollToAnchor=function(e){e.preventDefault();var t=$(e.currentTarget).attr("href");$("html,body").animate({scrollTop:$(t).offset().top},"slow")},parallaxEffect=function(e){e.forEach(function(e){var t,o,c=parseInt(getComputedStyle(e).top);window.addEventListener("scroll",function(){o=e.getBoundingClientRect().top,o>=0&&(t=e.getBoundingClientRect().top+document.body.scrollTop,e.style.top=c+.3*t+"px")})})},popup=function(e,t,o){$(e.currentTarget);$(t).hasClass("active")&&!$(e.target).closest(t).length&&$(t).removeClass("active"),$(e.target).closest(o).length&&!$(t).hasClass("active")&&$(t).addClass("active")};$().ready(function(){bindModalListeners([{trigger:".header__basket",modal:".modal--cart"}]),$("a[href^='#'").on("click",function(e){scrollToAnchor(e)}),mobile||parallaxEffect(document.querySelectorAll(".circle")),$(".result__item").on("click",function(e){list(".result__box",e)}),$(".order__item").on("click",function(e){list(".order__box",e)}),$(".cart__city").on("click",function(e){list(".cart__box",e)}),$(".calc__checkbox").on("click",function(e){switchActive(e)}),$(".choose__program").on("click",function(e){switchActive(e),$(".choose__container").attr("data-program",$(e.currentTarget).attr("data-name"))}),$(".choose__day").on("click",function(e){switchActive(e)}),$(".header__burger").on("click",function(e){$(e.currentTarget).toggleClass("active"),$(".header__nav").toggleClass("active"),$(e.currentTarget).hasClass("active")?stopScroll():freeScroll()}),$("body").on("click",function(e){popup(e,".dpicker",".result__choose")})});