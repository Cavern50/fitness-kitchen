"use strict";var tablet=$(window).width()<1240,mobile=$(window).width()<768,bindModalListeners=function(t){t.forEach(function(t){var e=$(t.trigger),a=$(t.modal);e.on("click",function(){stopScroll("body"),a.addClass("active")}),a.on("click",function(t){$(t.target).hasClass("modal")&&($(this).removeClass("active"),freeScroll())}),a.find("[data-close]").on("click",function(){a.removeClass("active"),freeScroll()}),$(document).keydown(function(t){return 27===t.keyCode?($(".modal").removeClass("active"),freeScroll(),!1):void 0})})},stopScroll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",e=parseInt(document.documentElement.clientWidth),a=parseInt(window.innerWidth),c=a-e;$(t).attr("style","overflow: hidden; padding-right: "+c+"px")},freeScroll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";$(t).attr("style","")},list=function(t,e){var a=$(e.currentTarget),c=$(e.currentTarget).closest("div");if(c.hasClass("open")){var o=a.find("[class*=value]").text();c.removeClass("open"),a.closest(c).attr("style",""),a.siblings("button").removeClass("active"),a.addClass("active"),a.siblings("input[type=hidden]").val(o)}else{var r=0;$(t).removeClass("open").attr("style",""),c.addClass("open"),a.closest(c).find("button").each(function(t,e){r+=$(e).outerHeight(!0)}),a.closest(c).css("height",r)}},switchActive=function(t,e){$(t.currentTarget).hasClass("active")||($(e).removeClass("active"),$(t.currentTarget).addClass("active"))},switchProgram=function(){var t=$(".choose__program.active").attr("data-name");$(".specific__day").hide().removeClass("active animated"),$(".specific[data-program=".concat(t,"] .specific__day:first-child")).fadeIn(500).addClass("active animated"),$(".choose__day").removeClass("active"),$(".choose__day:first-child").addClass("active"),$(".result__name").text(t),$(".result__amount").text($(".choose__program.active .choose__programAmount").text())},switchDay=function(t){var e=$(".choose__program.active").attr("data-name"),a=$(t.currentTarget).attr("data-day");$('.specific[data-program="'.concat(e,'"]')).find(".specific__day").each(function(t,e){$(e).attr("data-day")===a&&($(".specific__day").removeClass("active animated"),$(e).addClass("active"))})},createYouTubeEmbedLink=function(t,e){$(t).each(function(t,a){var c=$(a).attr("data-src"),o="https://www.youtube.com/embed/",r="?rel=0&showinfo=0&autoplay=1",i=o+c.slice(c.indexOf("=")+1,c.length)+r;$(a).on("click",function(){$(this).parent(e).empty().append('<iframe class="about__frame" src="'.concat(i,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}),$(a).siblings("img").attr("src","http://img.youtube.com/vi/"+i.slice(i.indexOf("embed")+6,i.indexOf("?"))+"/0.jpg")})},scrollToAnchor=function(t){t.preventDefault();var e=$(t.currentTarget).attr("href");$("html,body").animate({scrollTop:$(e).offset().top},"slow")},parallaxEffect=function(t){t.forEach(function(t){var e,a,c=parseInt(getComputedStyle(t).top);window.addEventListener("scroll",function(){a=t.getBoundingClientRect().top,a>=0&&(e=t.getBoundingClientRect().top+document.body.scrollTop,t.style.top=c+.3*e+"px")})})},popup=function(t,e,a){$(e).hasClass("active")&&!$(t.target).closest(e).length&&$(e).removeClass("active"),$(t.target).closest(a).length&&!$(e).hasClass("active")&&$(e).addClass("active")};$().ready(function(){bindModalListeners([{trigger:".header__basket",modal:".modal--cart"}]),$("a[href^='#'").on("click",function(t){scrollToAnchor(t)}),tablet||parallaxEffect(document.querySelectorAll(".circle")),$(".result__item").on("click",function(t){list(".result__box",t)}),$(".order__item").on("click",function(t){list(".order__box",t)}),$(".cart__city").on("click",function(t){list(".cart__box",t)}),$(".calc__checkbox").on("click",function(t){switchActive(t,$(t.target).closest("div").find("button"))}),$(".choose__program").on("click",function(t){$(t.target).hasClass("active")||(switchActive(t,".choose__program"),switchProgram(),$(".choose__container").attr("data-program",$(t.currentTarget).attr("data-name")))}),$(".choose__day").on("click",function(t){switchActive(t,".choose__day"),switchDay(t)}),$(".header__burger").on("click",function(t){$(t.currentTarget).toggleClass("active"),$(".header__nav").toggleClass("active"),$(t.currentTarget).hasClass("active")?stopScroll():freeScroll()}),$("body").on("click",function(t){popup(t,".dpicker",".result__choose")})});