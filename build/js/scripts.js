"use strict";var mobile=$(window).width()<1180,bindModalListeners=function(t){t.forEach(function(t){var e=$(t.trigger),o=$(t.modal);e.on("click",function(){stopScroll("body"),o.addClass("active")}),o.on("click",function(t){$(t.target).hasClass("modal")&&($(this).removeClass("active"),freeScroll())}),o.find("[data-close]").on("click",function(){o.removeClass("active"),freeScroll()}),$(document).keydown(function(t){return 27===t.keyCode?($(".modal").removeClass("active"),freeScroll(),!1):void 0})})},stopScroll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",e=parseInt(document.documentElement.clientWidth),o=parseInt(window.innerWidth),c=o-e;$(t).attr("style","overflow: hidden; padding-right: "+c+"px")},freeScroll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";$(t).attr("style","")},list=function(t,e){var o=$(e.currentTarget),c=$(e.currentTarget).closest("div");if(c.hasClass("open")){var i=o.find("[class*=value]").text();c.removeClass("open"),o.closest(c).attr("style",""),o.siblings("button").removeClass("active"),o.addClass("active"),o.siblings("input[type=hidden]").val(i)}else{var n=0;$(t).removeClass("open").attr("style",""),c.addClass("open"),o.closest(c).find("button").each(function(t,e){n+=$(e).outerHeight(!0),console.log(n)}),o.closest(c).css("height",n)}},switchActive=function(t){$(t.currentTarget).hasClass("active")||($(t.currentTarget).siblings().removeClass("active"),$(t.currentTarget).addClass("active"))},createYouTubeEmbedLink=function(t,e){$(t).each(function(t,o){var c=$(o).attr("data-src"),i="https://www.youtube.com/embed/",n="?rel=0&showinfo=0&autoplay=1",a=i+c.slice(c.indexOf("=")+1,c.length)+n;$(o).on("click",function(){$(this).parent(e).empty().append('<iframe class="about__frame" src="'.concat(a,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))}),$(o).siblings("img").attr("src","http://img.youtube.com/vi/"+a.slice(a.indexOf("embed")+6,a.indexOf("?"))+"/0.jpg")})},isVisible=function(t){var e=$(t),o=$(window),c=o.scrollTop(),i=e.offset().top,n=i+e.height();return n<=c+o.height()&&i>=c},lastScrollTop=0,circleAnim=function(t){var e=$(window).scrollTop(),o=parseInt($(t).attr("data-range"));lastScrollTop>e?$(t).attr("data-range",o+=4).css("top",o+"px"):$(t).attr("data-range",o-=4).css("top",o+"px"),lastScrollTop=e};$().ready(function(){bindModalListeners([{trigger:".header__basket",modal:".modal--cart"}]),mobile||$(window).on("scroll",function(){$(".circle").each(function(t,e){isVisible(e)?circleAnim(e):$(e).attr("data-range",0).css("top",0)})}),$(".result__item").on("click",function(t){list(".result__box",t)}),$(".order__item").on("click",function(t){list(".order__box",t)}),$(".cart__city").on("click",function(t){list(".cart__box",t)}),$(".calc__checkbox").on("click",function(t){switchActive(t)}),$(".choose__program").on("click",function(t){switchActive(t)}),$(".choose__day").on("click",function(t){switchActive(t)})});